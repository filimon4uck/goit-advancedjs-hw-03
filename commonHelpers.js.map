{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_ovvU1r7uJAtFvIQ1VaTO4vVX5FZyrjVAD3RTXHYZtYDboLu7zDw1lvE8Osa1OrXy';\nexport function fetchBreeds() {\n  return axios({\n    method: 'get',\n    url: 'https://api.thecatapi.com/v1/breeds',\n  }).then(res => {\n    if (res.status !== 200) {\n      throw new Error(res.statusText || 'Error');\n    }\n    return res.data;\n  });\n}\n\nexport function fetchCatByBreed(breedId) {\n  return axios({\n    method: 'get',\n    url: `https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`,\n  }).then(res => {\n    if (res.data.length === 0) {\n      throw new Error(res.statusText || 'Error');\n    }\n    return res.data;\n  });\n}\n","import { fetchBreeds } from './cat-api.js';\nimport { fetchCatByBreed } from './cat-api.js';\nimport SlimSelect from 'slim-select';\nimport 'slim-select/styles';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst elements = {\n  select: document.querySelector('.breed-select'),\n  loader: document.querySelector('.loader'),\n  catInfo: document.querySelector('.cat-info'),\n};\nconst { select, loader, catInfo } = elements;\n\nconst slim = new SlimSelect({\n  select: document.querySelector('.breed-select'),\n\n  events: {\n    afterClose: () => {\n      togleHidden(select, true);\n      afterCloseSelect(slim.getSelected());\n    },\n  },\n});\n\nfetchBreeds()\n  .then(data => {\n    slim.setData(\n      data.map(({ id, name }) => {\n        return {\n          text: name,\n          value: id,\n        };\n      })\n    );\n    togleHidden(select, false);\n    togleHidden(loader, true);\n  })\n\n  .catch(err => {\n    togleHidden(loader, true);\n    callError();\n    console.log(err);\n  });\n\nfunction afterCloseSelect(element) {\n  togleHidden(loader, false);\n  togleHidden(catInfo, true);\n  fetchCatByBreed(element)\n    .then(data => {\n      const { url, breeds } = data[0];\n      const { temperament, name, description } = breeds[0];\n      togleHidden(loader, true);\n      togleHidden(catInfo, false);\n      togleHidden(select, false);\n      //   togleHidden(select, false);\n      catInfo.innerHTML = `<img src=\"${url}\" width=\"300\" alt=\"${name}\" />\n          <div>\n            <h2>${name}</h2>\n            <p>${description}</p>\n            <p><span class=\"bold-text\">Temperament: </span>${temperament}</p>\n          </div>`;\n    })\n    .catch(err => {\n      togleHidden(loader, true);\n      callError();\n    });\n}\n// function for change visible of elements\nfunction togleHidden({ classList }, value) {\n  value ? classList.add('hidden') : classList.remove('hidden');\n}\n\nfunction callError() {\n  iziToast.error({\n    message: 'Oops! Something went wrong! Try reloading the page!',\n    position: 'center',\n  });\n}\n"],"names":["axios","fetchBreeds","res","fetchCatByBreed","breedId","elements","select","loader","catInfo","slim","SlimSelect","togleHidden","afterCloseSelect","data","id","name","err","callError","element","url","breeds","temperament","description","classList","value","iziToast"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEACK,SAASC,GAAc,CAC5B,OAAOD,EAAM,CACX,OAAQ,MACR,IAAK,qCACT,CAAG,EAAE,KAAKE,GAAO,CACb,GAAIA,EAAI,SAAW,IACjB,MAAM,IAAI,MAAMA,EAAI,YAAc,OAAO,EAE3C,OAAOA,EAAI,IACf,CAAG,CACH,CAEO,SAASC,EAAgBC,EAAS,CACvC,OAAOJ,EAAM,CACX,OAAQ,MACR,IAAK,wDAAwDI,GACjE,CAAG,EAAE,KAAKF,GAAO,CACb,GAAIA,EAAI,KAAK,SAAW,EACtB,MAAM,IAAI,MAAMA,EAAI,YAAc,OAAO,EAE3C,OAAOA,EAAI,IACf,CAAG,CACH,CCnBA,MAAMG,EAAW,CACf,OAAQ,SAAS,cAAc,eAAe,EAC9C,OAAQ,SAAS,cAAc,SAAS,EACxC,QAAS,SAAS,cAAc,WAAW,CAC7C,EACM,CAAE,OAAAC,EAAQ,OAAAC,EAAQ,QAAAC,CAAO,EAAKH,EAE9BI,EAAO,IAAIC,EAAW,CAC1B,OAAQ,SAAS,cAAc,eAAe,EAE9C,OAAQ,CACN,WAAY,IAAM,CAChBC,EAAYL,EAAQ,EAAI,EACxBM,EAAiBH,EAAK,YAAW,CAAE,CACpC,CACF,CACH,CAAC,EAEDR,EAAa,EACV,KAAKY,GAAQ,CACZJ,EAAK,QACHI,EAAK,IAAI,CAAC,CAAE,GAAAC,EAAI,KAAAC,CAAI,KACX,CACL,KAAMA,EACN,MAAOD,CACjB,EACO,CACP,EACIH,EAAYL,EAAQ,EAAK,EACzBK,EAAYJ,EAAQ,EAAI,CAC5B,CAAG,EAEA,MAAMS,GAAO,CACZL,EAAYJ,EAAQ,EAAI,EACxBU,IACA,QAAQ,IAAID,CAAG,CACnB,CAAG,EAEH,SAASJ,EAAiBM,EAAS,CACjCP,EAAYJ,EAAQ,EAAK,EACzBI,EAAYH,EAAS,EAAI,EACzBL,EAAgBe,CAAO,EACpB,KAAKL,GAAQ,CACZ,KAAM,CAAE,IAAAM,EAAK,OAAAC,CAAQ,EAAGP,EAAK,GACvB,CAAE,YAAAQ,EAAa,KAAAN,EAAM,YAAAO,CAAW,EAAKF,EAAO,GAClDT,EAAYJ,EAAQ,EAAI,EACxBI,EAAYH,EAAS,EAAK,EAC1BG,EAAYL,EAAQ,EAAK,EAEzBE,EAAQ,UAAY,aAAaW,uBAAyBJ;AAAA;AAAA,kBAE9CA;AAAA,iBACDO;AAAA,6DAC4CD;AAAA,iBAE7D,CAAK,EACA,MAAML,GAAO,CACZL,EAAYJ,EAAQ,EAAI,EACxBU,GACN,CAAK,CACL,CAEA,SAASN,EAAY,CAAE,UAAAY,CAAW,EAAEC,EAAO,CACzCA,EAAQD,EAAU,IAAI,QAAQ,EAAIA,EAAU,OAAO,QAAQ,CAC7D,CAEA,SAASN,GAAY,CACnBQ,EAAS,MAAM,CACb,QAAS,sDACT,SAAU,QACd,CAAG,CACH"}